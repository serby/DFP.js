/**
 * DFP.js 1.4.2
 * 
 * Copyright (c) 2015 Cameron Terry
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var googletag=googletag||{};googletag.cmd=googletag.cmd||[],function(e){var t=document.createElement("script");t.async=!0,t.type="text/javascript";var a="https:"==document.location.protocol;t.src=(a?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o);var s={collapsable:!1,video:!1,ad_slots:[],ad_slots_processed:0,ad_slots_requested:0,network:"",targeting_all:[],zone:"",defineSlots:function(){s.ad_slots_processed=0,s.ad_slots_requested=e('div[rel="advert"]:visible').length,e('div[rel="advert"][data-ad-complete!="yes"]:visible').each(function(){var t=e(this),a=s.getID(t),o=null;o="yes"===t.data("oop")?googletag.defineOutOfPageSlot(s.network+s.zone,a):googletag.defineSlot(s.network+s.zone,s.getSizes(t.data("sizes")),a),s.setTargetingSingle(t.data("targeting"),o),s.setCompanionSingle(t.data("companion"),o),o.addService(googletag.pubads()),s.ad_slots[a]=o})},get:function(t){for(var a in s.ad_slots)if(t===s.ad_slots[a])return e("#"+a)},getID:function(e){if(e.attr("id"))return e.attr("id");var t="div-gpt-ad-"+Math.random().toString(36).substr(2,9);return e.prop("id",t),t},getSizes:function(t){return e.map(t.split(","),function(e){var t=e.split("x");return[[+t[0],+t[1]]]})},setCompanionSingle:function(e,t){e&&"yes"===e&&t.addService(googletag.companionAds())},setTargetingAll:function(){for(var e=0;e<s.targeting_all.length;++e)googletag.pubads().setTargeting(s.targeting_all[e].key,s.targeting_all[e].value)},setTargetingSingle:function(e,t){if(e)for(var a=e.split("|"),o=0;o<a.length;++o){var s=a[o].split("=");t.setTargeting(s[0],-1===s[1].indexOf(",")?s[1]:s[1].split(","))}},cycle:function(){s.defineSlots();for(var e=s.display(),t=[],a=0;a<e.length;++a)t.push(s.ad_slots[e[a]]);googletag.pubads().refresh(t)},display:function(){var t=[];return e('div[rel="advert"][data-ad-complete!="yes"]').each(function(){var a=e(this),o=a.attr("id");googletag.cmd.push(function(){googletag.display(o)}),a.attr("data-ad-complete","yes"),t.push(o)}),t},enable:function(){googletag.cmd.push(function(){s.defineSlots(),s.setTargetingAll(),googletag.pubads().enableAsyncRendering(),googletag.pubads().enableSingleRequest(),googletag.pubads().addEventListener("slotRenderEnded",function(t){s.ad_slots_processed++;var a=s.get(t.slot),o=({creative_id:t.creativeId,is_empty:t.isEmpty,el:a,line_item_id:t.lineItemId,size:t.size},e.Event("rendered"));if(a.trigger(o,t),t.isEmpty){var r=e.Event("empty");a.trigger(r,t)}e(window.dfp).trigger("slot_rendered",t),s.ad_slots_requested===s.ad_slots_processed&&e(window.dfp).trigger("complete")}),googletag.pubads().collapseEmptyDivs(s.collapsable),googletag.enableServices(),s.display()})},refresh:function(e){googletag.pubads().refresh([s.ad_slots[e]])},refreshAll:function(){googletag.pubads().refresh()},takeover:function(t){var a=e("body"),o=e('<a class="takeover" href="'+t.url+'" target="_blank"></a>');o.css("background-image","url("+t.image+")"),t.impressiontracker&&""!==e.trim(t.impressiontracker)&&a.prepend('<img src="'+t.impressiontracker+'" style="display:none;" />'),a.prepend(o)}};window.dfp=s}(jQuery);